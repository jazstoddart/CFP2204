# CFP2204
Code for the Centre for Forest Protection Project 2204 - Predicting risks to non-native species from potential threats in the UK
Â© Crown copyright 2021
This information is licensed under the Open Government Licence v3.0. To view this licence, visit www.nationalarchives.gov.uk/doc/open-government-licence/

This repository contains the script necessary to generate BRMS modelling scripts like those used in the CFP2204 project "Predicting risks to non-native species from potential threats in the UK" (Clustering and script generation.R) and an exemplar script of what will be produced (Exemplar_model_script-Adelges_piceae.R).

1) To successfully run Clustering and script generation. R lines 7-11 must be edited appropriately.
  
   Line 7 - Set your own working directory

   Line 8 - Set the scripts_path, the path to where generated modelling scripts are to be saved. Default is a folder within working directory called "Code"

   Line 9 - Set the predictions_path, the path to where output predictions generated by the scripts when run will be saved.

   Line 10 - Specify the host-threat interaction dataframe/host status matrix (HSM). The dataframe should have threats specified as columnnames and hosts, one per row, in the first column of the dataframe. The   data should be binomial, with 1 represnting a known interaction and 0 an unknown.

   Line 11 -  Specify the corresponding phlyogenetic tree for the hosts present in the host-threat interaction dataframe/HSM

4) Run lines 15-709

5)  Run MASTER_FUNCTION specifying a vector for threat names (i.e. all but the first column of host_status_df from line 8) to generate clusters and scripts for model running. Set minimum hosts as desired, 2 is the minimum and the recommended default.

6) Running MASTER_FUNCTION will generate scripts in the directory specified in scripts_path. The scripts will be ready to run and have appropriate clusters generated and data-driven priors.
